var SearchService="";!function(e){SearchService=function(t){var o=this;o.config=e.extend({per_page:10,selectors:{body:"body",form:".u-search-form",input:".u-search-input",container:"#u-search",modal:"#u-search .modal",modal_body:"#u-search .modal-body",modal_footer:"#u-search .modal-footer",modal_overlay:"#u-search .modal-overlay",modal_results:"#u-search .modal-results",modal_metadata:"#u-search .modal-metadata",modal_error:"#u-search .modal-error",modal_loading_bar:"#u-search .modal-loading-bar",modal_ajax_content:"#u-search .modal-ajax-content",modal_logo:"#u-search .modal-footer .logo",btn_close:"#u-search .btn-close",btn_next:"#u-search .btn-next",btn_prev:"#u-search .btn-prev"},brands:{google:{logo:"/img/google.svg",url:"https://cse.google.com"},algolia:{logo:"/img/algolia.svg",url:"https://www.algolia.com"},hexo:{logo:"",url:""},azure:{logo:"/img/azure.svg",url:"https://azure.microsoft.com/en-us/services/search/"},baidu:{logo:"/img/baidu.svg",url:"http://zn.baidu.com/cse/home/index"}}},t),o.dom={},o.percentLoaded=0,o.open=!1,o.queryText="",o.nav={next:-1,prev:-1,total:0,current:1},o.parseSelectors=function(){for(var a in o.config.selectors)o.dom[a]=e(o.config.selectors[a])},o.beforeQuery=function(){o.open||(o.dom.container.fadeIn(),o.dom.body.addClass("modal-active")),o.dom.input.each(function(a,t){e(t).val(o.queryText)}),document.activeElement.blur(),o.dom.modal_error.hide(),o.dom.modal_ajax_content.removeClass("loaded"),o.startLoading()},o.afterQuery=function(){o.dom.modal_body.scrollTop(0),o.dom.modal_ajax_content.addClass("loaded"),o.stopLoading()},o.search=function(e,a){o.beforeQuery(),o.search instanceof Function?o.query(o.queryText,e,function(){o.afterQuery()}):(console.log("query() does not exist."),o.onQueryError(o.queryText,""),o.afterQuery())},o.onQueryError=function(e,a){var t="";t="success"===a?'No result found for "'+e+'".':"timeout"===a?"Unfortunate timeout.":"Mysterious failure.",o.dom.modal_results.html(""),o.dom.modal_error.html(t),o.dom.modal_error.show()},o.nextPage=function(){o.nav.next!==-1&&o.search(o.nav.next)},o.prevPage=function(){o.nav.prev!==-1&&o.search(o.nav.prev)},o.buildResult=function(e,a,t){var o="";return o="<li>",o+="<a class='result' href='"+e+"'>",o+="<span class='title'>"+a+"</span>",o+="<span class='digest'>"+t+"</span>",o+="<span class='icon icon-chevron-thin-right'></span>",o+="</a>",o+="</li>"},o.close=function(){o.open=!1,o.dom.container.fadeOut(),o.dom.body.removeClass("modal-active")},o.onSubmit=function(a){a.preventDefault(),o.queryText=e(this).children(".u-search-input").val(),o.search(1)},o.startLoading=function(){o.dom.modal_loading_bar.show(),o.loadingTimer=setInterval(function(){o.percentLoaded=Math.min(o.percentLoaded+5,95),o.dom.modal_loading_bar.css("width",o.percentLoaded+"%")},100)},o.stopLoading=function(){clearInterval(o.loadingTimer),o.dom.modal_loading_bar.css("width","100%"),o.dom.modal_loading_bar.fadeOut(),setTimeout(function(){o.percentLoaded=0,o.dom.modal_loading_bar.css("width","0%")},300)},o.addLogo=function(e){var a="";o.config.brands[e]&&o.config.brands[e].logo&&(a+="<a href='"+o.config.brands[e].url+"'>",a+='<img src="'+o.config.brands[e].logo+'" />',a+="</a>",o.dom.modal_logo.html(a),o.dom.modal_logo.addClass(e))},o.init=function(){e("body").prepend(a),o.parseSelectors(),o.dom.form.each(function(a,t){e(t).on("submit",o.onSubmit)}),o.dom.modal_overlay.on("click",o.close),o.dom.btn_close.on("click",o.close),o.dom.btn_next.on("click",o.nextPage),o.dom.btn_prev.on("click",o.prevPage)},o.init()};var a='<div id="u-search"><div class="modal"> <header class="modal-header" class="clearfix"><form id="u-search-modal-form" class="u-search-form" name="uSearchModalForm"> <input type="text" id="u-search-modal-input" class="u-search-input" /> <button type="submit" id="u-search-modal-btn-submit" class="u-search-btn-submit"> <span class="icon icon-search"></span> </button></form> <a class="btn-close"> <span class="icon icon-close"></span> </a><div class="modal-loading"><div class="modal-loading-bar"></div></div> </header> <main class="modal-body"><ul class="modal-results modal-ajax-content"></ul> </main> <footer class="modal-footer clearfix"><div class="modal-metadata modal-ajax-content"> <strong class="range"></strong> of <strong class="total"></strong></div><div class="modal-error"></div> <div class="logo"></div> <a class="nav btn-next modal-ajax-content"> <span class="text">NEXT</span> <span class="icon icon-chevron-right"></span> </a> <a class="nav btn-prev modal-ajax-content"> <span class="icon icon-chevron-left"></span> <span class="text">PREV</span> </a> </footer></div><div class="modal-overlay"></div></div>'}(jQuery);var AlgoliaSearch;!function(e){"use strict";AlgoliaSearch=function(a){SearchService.apply(this,arguments);var t=this,o="https://"+t.config.appId+"-dsn.algolia.net/1/indexes/"+t.config.indexName;t.addLogo("algolia"),t.buildResultList=function(a){var o="";return e.each(a,function(e,a){var n=a.permalink||a.path||"";!a.permalink&&a.path&&(n="/"+n);var r=a.title,s=a._highlightResult.excerptStrip.value||"";o+=t.buildResult(n,r,s)}),o},t.buildMetadata=function(e){t.nav.current=e.page*e.hitsPerPage+1,t.nav.currentCount=e.hits.length,t.nav.total=parseInt(e.nbHits),t.dom.modal_metadata.children(".total").html(t.nav.total),t.dom.modal_metadata.children(".range").html(t.nav.current+"-"+(t.nav.current+t.nav.currentCount-1)),t.nav.total>0?t.dom.modal_metadata.show():t.dom.modal_metadata.hide(),e.page<e.nbPages-1?(t.nav.next=e.page+1+1,t.dom.btn_next.show()):(t.nav.next=-1,t.dom.btn_next.hide()),e.page>0?(t.nav.prev=e.page+1-1,t.dom.btn_prev.show()):(t.nav.prev=-1,t.dom.btn_prev.hide())},t.query=function(a,n,r){e.get(o,{query:a,page:n-1,hitsPerPage:t.config.per_page,"x-algolia-application-id":t.config.appId,"x-algolia-api-key":t.config.apiKey},function(e,o){if("success"===o&&e.hits&&e.hits.length>0){var n=t.buildResultList(e.hits);t.dom.modal_results.html(n)}else t.onQueryError(a,o);t.buildMetadata(e),r&&r(e)})}}}(jQuery);var AzureSearch;!function(e){"use strict";AzureSearch=function(a){SearchService.apply(this,arguments);var t=this,o="https://"+t.config.serviceName+".search.windows.net/indexes/"+t.config.indexName+"/docs?api-version=2015-02-28";t.nav.current=1,t.addLogo("azure"),t.buildResultList=function(a){var o="";return e.each(a,function(e,a){var n=a.permalink||a.path||"";!a.permalink&&a.path&&(n="/"+n);var r=a.title,s=a.excerptStrip||"";o+=t.buildResult(n,r,s)}),o},t.buildMetadata=function(e,a){t.nav.current=a,t.nav.currentCount=e.value.length,t.nav.total=parseInt(e["@odata.count"]),t.dom.modal_metadata.children(".total").html(t.nav.total),t.dom.modal_metadata.children(".range").html(t.nav.current+"-"+(t.nav.current+t.nav.currentCount-1)),t.nav.total>0?t.dom.modal_metadata.show():t.dom.modal_metadata.hide(),t.nav.current+t.nav.currentCount<=t.nav.total?(t.nav.next=t.nav.current+t.nav.currentCount,t.dom.btn_next.show()):(t.nav.next=-1,t.dom.btn_next.hide()),t.nav.current>1?(t.nav.prev=t.nav.current-t.config.per_page,t.dom.btn_prev.show()):(t.nav.prev=-1,t.dom.btn_prev.hide())},t.query=function(a,n,r){e.ajax({url:o,headers:{Accept:"application/json","api-key":t.config.queryKey},data:{search:a,$skip:n-1,$top:t.config.per_page,$count:!0},type:"GET",success:function(e,o){if("success"===o&&e.value&&e.value.length>0){var s=t.buildResultList(e.value);t.dom.modal_results.html(s)}else t.onQueryError(a,o);t.buildMetadata(e,n),r&&r(e)}})}}}(jQuery);var BaiduSearch;!function(e){"use strict";BaiduSearch=function(e){SearchService.apply(this,arguments);var a=this;a.addLogo("baidu"),a.loadScript=function(){var e="<script src='http://zhannei.baidu.com/api/customsearch/apiaccept?sid="+a.config.apiId+"&v=2.0&callback=customSearch.initBaidu' type='text/javascript' charset='utf-8'></script>";a.dom.body.append(e)},a.initBaidu=function(){a.cse=new BCse.Search(a.config.apiId)},a.query=function(e,t,o){a.cse.setPageNum(a.config.per_page),a.cse.getResult(e,function(e){console.log(e),o instanceof Function&&o()},t)},a.loadScript()}}(jQuery);var GoogleCustomSearch="";!function(e){"use strict";GoogleCustomSearch=function(a){SearchService.apply(this,arguments);var t=this,o="https://www.googleapis.com/customsearch/v1";t.addLogo("google"),t.buildResultList=function(a){var o="";return e.each(a,function(e,a){var n=a.link,r=a.title,s=(a.htmlSnippet||"").replace("<br>","");o+=t.buildResult(n,r,s)}),o},t.buildMetadata=function(e){e.queries&&e.queries.request&&"0"!==e.queries.request[0].totalResults?(t.nav.current=e.queries.request[0].startIndex,t.nav.currentCount=e.queries.request[0].count,t.nav.total=parseInt(e.queries.request[0].totalResults),t.dom.modal_metadata.children(".total").html(t.nav.total),t.dom.modal_metadata.children(".range").html(t.nav.current+"-"+(t.nav.current+t.nav.currentCount-1)),t.dom.modal_metadata.show()):t.dom.modal_metadata.hide(),e.queries&&e.queries.nextPage?(t.nav.next=e.queries.nextPage[0].startIndex,t.dom.btn_next.show()):(t.nav.next=-1,t.dom.btn_next.hide()),e.queries&&e.queries.previousPage?(t.nav.prev=e.queries.previousPage[0].startIndex,t.dom.btn_prev.show()):(t.nav.prev=-1,t.dom.btn_prev.hide())},t.query=function(a,n,r){e.get(o,{key:t.config.apiKey,cx:t.config.engineId,q:a,start:n,num:t.config.per_page},function(e,o){if("success"===o&&e.items&&e.items.length>0){var n=t.buildResultList(e.items);t.dom.modal_results.html(n)}else t.onQueryError(a,o);t.buildMetadata(e),r&&r()})}}}(jQuery);var HexoSearch;!function(e){"use strict";HexoSearch=function(a){SearchService.apply(this,arguments);var t=this,o="/content.json";t.cache="",t.contentSearch=function(a,t){var o=a.title.trim().toLowerCase(),n=a.text.trim().toLowerCase(),r=t.trim().toLowerCase().split(" "),s=!1,i=-1,c=-1,l=-1;return""!==o&&""!==n&&e.each(r,function(e,t){if(i=o.indexOf(t),c=n.indexOf(t),i<0&&c<0?s=!1:(s=!0,c<0&&(c=0),0===e&&(l=c)),s){n=a.text.trim();var d=0,u=0;if(l>=0){d=Math.max(l-30,0),u=0===d?Math.min(200,n.length):Math.min(l+170,n.length);var m=n.substring(d,u);r.forEach(function(e){var a=new RegExp(e,"gi");m=m.replace(a,"<b>"+e+"</b>")}),a.digest=m}else u=Math.min(200,n.length),a.digest=n.trim().substring(0,u)}}),s},t.buildResultList=function(a,o){var n="";return e.each(a,function(e,a){t.contentSearch(a,o)&&(n+=t.buildResult(a.permalink,a.title,a.digest))}),n},t.buildMetadata=function(e){t.dom.modal_footer.hide()},t.query=function(a,n,r){if(t.cache){var s="";s+=t.buildResultList(t.cache.pages,a),s+=t.buildResultList(t.cache.posts,a),t.dom.modal_results.html(s),t.buildMetadata(t.cache),r&&r(t.cache)}else e.get(o,{key:t.config.apiKey,cx:t.config.engineId,q:a,start:n,num:t.config.per_page},function(e,o){if("success"!==o||!e||!e.posts&&!e.pages||e.posts.length<1&&e.pages.length<1)t.onQueryError(a,o);else{t.cache=e;var n="";n+=t.buildResultList(e.pages,a),n+=t.buildResultList(e.posts,a),t.dom.modal_results.html(n)}t.buildMetadata(e),r&&r(e)})}}}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVuaXZlcnNhbC1zZWFyY2guanMiLCJhbGdvbGlhLXNlYXJjaC5qcyIsImF6dXJlLXNlYXJjaC5qcyIsImJhaWR1LXNlYXJjaC5qcyIsImdvb2dsZS1jdXN0b20tc2VhcmNoLmpzIiwiaGV4by1sb2NhbC1zZWFyY2guanMiXSwibmFtZXMiOlsiU2VhcmNoU2VydmljZSIsIiQiLCJvcHRpb25zIiwic2VsZiIsInRoaXMiLCJjb25maWciLCJleHRlbmQiLCJwZXJfcGFnZSIsInNlbGVjdG9ycyIsImJvZHkiLCJmb3JtIiwiaW5wdXQiLCJjb250YWluZXIiLCJtb2RhbCIsIm1vZGFsX2JvZHkiLCJtb2RhbF9mb290ZXIiLCJtb2RhbF9vdmVybGF5IiwibW9kYWxfcmVzdWx0cyIsIm1vZGFsX21ldGFkYXRhIiwibW9kYWxfZXJyb3IiLCJtb2RhbF9sb2FkaW5nX2JhciIsIm1vZGFsX2FqYXhfY29udGVudCIsIm1vZGFsX2xvZ28iLCJidG5fY2xvc2UiLCJidG5fbmV4dCIsImJ0bl9wcmV2IiwiYnJhbmRzIiwiZ29vZ2xlIiwibG9nbyIsInVybCIsImFsZ29saWEiLCJoZXhvIiwiYXp1cmUiLCJiYWlkdSIsImRvbSIsInBlcmNlbnRMb2FkZWQiLCJvcGVuIiwicXVlcnlUZXh0IiwibmF2IiwibmV4dCIsInByZXYiLCJ0b3RhbCIsImN1cnJlbnQiLCJwYXJzZVNlbGVjdG9ycyIsImtleSIsImJlZm9yZVF1ZXJ5IiwiZmFkZUluIiwiYWRkQ2xhc3MiLCJlYWNoIiwiaW5kZXgiLCJlbGVtIiwidmFsIiwiZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50IiwiYmx1ciIsImhpZGUiLCJyZW1vdmVDbGFzcyIsInN0YXJ0TG9hZGluZyIsImFmdGVyUXVlcnkiLCJzY3JvbGxUb3AiLCJzdG9wTG9hZGluZyIsInNlYXJjaCIsInN0YXJ0SW5kZXgiLCJjYWxsYmFjayIsIkZ1bmN0aW9uIiwicXVlcnkiLCJjb25zb2xlIiwibG9nIiwib25RdWVyeUVycm9yIiwic3RhdHVzIiwiZXJyTXNnIiwiaHRtbCIsInNob3ciLCJuZXh0UGFnZSIsInByZXZQYWdlIiwiYnVpbGRSZXN1bHQiLCJ0aXRsZSIsImRpZ2VzdCIsImNsb3NlIiwiZmFkZU91dCIsIm9uU3VibWl0IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImNoaWxkcmVuIiwibG9hZGluZ1RpbWVyIiwic2V0SW50ZXJ2YWwiLCJNYXRoIiwibWluIiwiY3NzIiwiY2xlYXJJbnRlcnZhbCIsInNldFRpbWVvdXQiLCJhZGRMb2dvIiwic2VydmljZSIsImluaXQiLCJwcmVwZW5kIiwidGVtcGxhdGUiLCJvbiIsImpRdWVyeSIsIkFsZ29saWFTZWFyY2giLCJhcHBseSIsImFyZ3VtZW50cyIsImVuZHBvaW50IiwiYXBwSWQiLCJpbmRleE5hbWUiLCJidWlsZFJlc3VsdExpc3QiLCJkYXRhIiwicm93IiwicGVybWFsaW5rIiwicGF0aCIsIl9oaWdobGlnaHRSZXN1bHQiLCJleGNlcnB0U3RyaXAiLCJ2YWx1ZSIsImJ1aWxkTWV0YWRhdGEiLCJwYWdlIiwiaGl0c1BlclBhZ2UiLCJjdXJyZW50Q291bnQiLCJoaXRzIiwibGVuZ3RoIiwicGFyc2VJbnQiLCJuYkhpdHMiLCJuYlBhZ2VzIiwiZ2V0IiwieC1hbGdvbGlhLWFwcGxpY2F0aW9uLWlkIiwieC1hbGdvbGlhLWFwaS1rZXkiLCJhcGlLZXkiLCJyZXN1bHRzIiwiQXp1cmVTZWFyY2giLCJzZXJ2aWNlTmFtZSIsImFqYXgiLCJoZWFkZXJzIiwiQWNjZXB0IiwiYXBpLWtleSIsInF1ZXJ5S2V5IiwiJHNraXAiLCIkdG9wIiwiJGNvdW50IiwidHlwZSIsInN1Y2Nlc3MiLCJCYWlkdVNlYXJjaCIsImxvYWRTY3JpcHQiLCJzY3JpcHQiLCJhcGlJZCIsImFwcGVuZCIsImluaXRCYWlkdSIsImNzZSIsIkJDc2UiLCJTZWFyY2giLCJzZXRQYWdlTnVtIiwiZ2V0UmVzdWx0IiwiR29vZ2xlQ3VzdG9tU2VhcmNoIiwibGluayIsImh0bWxTbmlwcGV0IiwicmVwbGFjZSIsInF1ZXJpZXMiLCJyZXF1ZXN0IiwidG90YWxSZXN1bHRzIiwiY291bnQiLCJwcmV2aW91c1BhZ2UiLCJjeCIsImVuZ2luZUlkIiwicSIsInN0YXJ0IiwibnVtIiwiaXRlbXMiLCJIZXhvU2VhcmNoIiwiY2FjaGUiLCJjb250ZW50U2VhcmNoIiwicG9zdCIsInBvc3RfdGl0bGUiLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJwb3N0X2NvbnRlbnQiLCJ0ZXh0Iiwia2V5d29yZHMiLCJzcGxpdCIsImZvdW5kTWF0Y2giLCJpbmRleF90aXRsZSIsImluZGV4X2NvbnRlbnQiLCJmaXJzdF9vY2N1ciIsIndvcmQiLCJpbmRleE9mIiwiZW5kIiwibWF4IiwibWF0Y2hfY29udGVudCIsInN1YnN0cmluZyIsImZvckVhY2giLCJrZXl3b3JkIiwicmVnUyIsIlJlZ0V4cCIsInBhZ2VzIiwicG9zdHMiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUFBLGVBQUEsSUFFQSxTQUFBQyxHQUtBRCxjQUFBLFNBQUFFLEdBQ0EsR0FBQUMsR0FBQUMsSUFFQUQsR0FBQUUsT0FBQUosRUFBQUssUUFDQUMsU0FBQSxHQUNBQyxXQUNBQyxLQUFBLE9BQ0FDLEtBQUEsaUJBQ0FDLE1BQUEsa0JBQ0FDLFVBQUEsWUFDQUMsTUFBQSxtQkFDQUMsV0FBQSx3QkFDQUMsYUFBQSwwQkFDQUMsY0FBQSwyQkFDQUMsY0FBQSwyQkFDQUMsZUFBQSw0QkFDQUMsWUFBQSx5QkFDQUMsa0JBQUEsK0JBQ0FDLG1CQUFBLGdDQUNBQyxXQUFBLGdDQUNBQyxVQUFBLHVCQUNBQyxTQUFBLHNCQUNBQyxTQUFBLHVCQUVBQyxRQUNBQyxRQUFBQyxLQUFBLGtCQUFBQyxJQUFBLDBCQUNBQyxTQUFBRixLQUFBLG1CQUFBQyxJQUFBLDJCQUNBRSxNQUFBSCxLQUFBLEdBQUFDLElBQUEsSUFDQUcsT0FBQUosS0FBQSxpQkFBQUMsSUFBQSxzREFDQUksT0FBQUwsS0FBQSxpQkFBQUMsSUFBQSx3Q0FFQTNCLEdBRUFDLEVBQUErQixPQUNBL0IsRUFBQWdDLGNBQUEsRUFDQWhDLEVBQUFpQyxNQUFB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QUNBQSxJQUFBMUgsRUFBQXFHLGdCQUFBckcsRUFBQWtLLE1BQUF3QixNQUFBeEosR0FDQXdGLEdBQUExSCxFQUFBcUcsZ0JBQUFyRyxFQUFBa0ssTUFBQXlCLE1BQUF6SixHQUNBbEMsRUFBQStCLElBQUFqQixjQUFBc0QsS0FBQXNELEdBQ0ExSCxFQUFBNkcsY0FBQTdHLEVBQUFrSyxPQUNBdEcsR0FDQUEsRUFBQTVELEVBQUFrSyxXQWxDQXBLLEdBQUF3SCxJQUFBcEIsR0FDQXpELElBQUF6QyxFQUFBRSxPQUFBdUgsT0FDQWtDLEdBQUEzSixFQUFBRSxPQUFBMEosU0FDQUMsRUFBQTNILEVBQ0E0SCxNQUFBbkcsRUFDQW9HLElBQUEvSixFQUFBRSxPQUFBRSxVQUNBLFNBQUFrRyxFQUFBcEMsR0FDQSxHQUFBLFlBQUFBLElBQ0FvQyxJQUNBQSxFQUFBcUYsUUFBQXJGLEVBQUFvRixPQUNBcEYsRUFBQXFGLE1BQUF6RSxPQUFBLEdBQUFaLEVBQUFvRixNQUFBeEUsT0FBQSxFQUVBbEgsRUFBQWlFLGFBQUEvQixFQUFBZ0MsT0FFQSxDQUNBbEUsRUFBQWtLLE1BQUE1RCxDQUNBLElBQUFvQixHQUFBLEVBQ0FBLElBQUExSCxFQUFBcUcsZ0JBQUFDLEVBQUFvRixNQUFBeEosR0FDQXdGLEdBQUExSCxFQUFBcUcsZ0JBQUFDLEVBQUFxRixNQUFBekosR0FDQWxDLEVBQUErQixJQUFBakIsY0FBQXNELEtBQUFzRCxHQUVBMUgsRUFBQTZHLGNBQUFQLEdBQ0ExQyxHQUNBQSxFQUFBMEMsUUFrQkFSIiwiZmlsZSI6InVuaXZlcnNhbC1zZWFyY2guanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgU2VhcmNoU2VydmljZSA9IFwiXCI7XHJcblxyXG4oZnVuY3Rpb24oJCkge1xyXG4gIC8qKlxyXG4gICAqIEEgc3VwZXIgY2xhc3Mgb2YgY29tbW9uIGxvZ2ljcyBmb3IgYWxsIHNlYXJjaCBzZXJ2aWNlc1xyXG4gICAqIEBwYXJhbSBvcHRpb25zIDogKG9iamVjdClcclxuICAgKi9cclxuICBTZWFyY2hTZXJ2aWNlID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgXHJcbiAgICBzZWxmLmNvbmZpZyA9ICQuZXh0ZW5kKHtcclxuICAgICAgcGVyX3BhZ2U6IDEwLFxyXG4gICAgICBzZWxlY3RvcnM6IHtcclxuICAgICAgICBib2R5OiBcImJvZHlcIixcclxuICAgICAgICBmb3JtOiBcIi51LXNlYXJjaC1mb3JtXCIsXHJcbiAgICAgICAgaW5wdXQ6IFwiLnUtc2VhcmNoLWlucHV0XCIsXHJcbiAgICAgICAgY29udGFpbmVyOiBcIiN1LXNlYXJjaFwiLFxyXG4gICAgICAgIG1vZGFsOiBcIiN1LXNlYXJjaCAubW9kYWxcIixcclxuICAgICAgICBtb2RhbF9ib2R5OiBcIiN1LXNlYXJjaCAubW9kYWwtYm9keVwiLFxyXG4gICAgICAgIG1vZGFsX2Zvb3RlcjogXCIjdS1zZWFyY2ggLm1vZGFsLWZvb3RlclwiLFxyXG4gICAgICAgIG1vZGFsX292ZXJsYXk6IFwiI3Utc2VhcmNoIC5tb2RhbC1vdmVybGF5XCIsXHJcbiAgICAgICAgbW9kYWxfcmVzdWx0czogXCIjdS1zZWFyY2ggLm1vZGFsLXJlc3VsdHNcIixcclxuICAgICAgICBtb2RhbF9tZXRhZGF0YTogXCIjdS1zZWFyY2ggLm1vZGFsLW1ldGFkYXRhXCIsXHJcbiAgICAgICAgbW9kYWxfZXJyb3I6IFwiI3Utc2VhcmNoIC5tb2RhbC1lcnJvclwiLFxyXG4gICAgICAgIG1vZGFsX2xvYWRpbmdfYmFyOiBcIiN1LXNlYXJjaCAubW9kYWwtbG9hZGluZy1iYXJcIixcclxuICAgICAgICBtb2RhbF9hamF4X2NvbnRlbnQ6IFwiI3Utc2VhcmNoIC5tb2RhbC1hamF4LWNvbnRlbnRcIixcclxuICAgICAgICBtb2RhbF9sb2dvOiAnI3Utc2VhcmNoIC5tb2RhbC1mb290ZXIgLmxvZ28nLFxyXG4gICAgICAgIGJ0bl9jbG9zZTogXCIjdS1zZWFyY2ggLmJ0bi1jbG9zZVwiLFxyXG4gICAgICAgIGJ0bl9uZXh0OiBcIiN1LXNlYXJjaCAuYnRuLW5leHRcIixcclxuICAgICAgICBidG5fcHJldjogXCIjdS1zZWFyY2ggLmJ0bi1wcmV2XCJcclxuICAgICAgfSxcclxuICAgICAgYnJhbmRzOiB7XHJcbiAgICAgICAgJ2dvb2dsZSc6IHtsb2dvOiAnL2ltZy9nb29nbGUuc3ZnJywgdXJsOiAnaHR0cHM6Ly9jc2UuZ29vZ2xlLmNvbSd9LFxyXG4gICAgICAgICdhbGdvbGlhJzoge2xvZ286ICcvaW1nL2FsZ29saWEuc3ZnJywgdXJsOiAnaHR0cHM6Ly93d3cuYWxnb2xpYS5jb20nfSxcclxuICAgICAgICAnaGV4byc6IHtsb2dvOiAnJywgdXJsOiAnJ30sXHJcbiAgICAgICAgJ2F6dXJlJzoge2xvZ286ICcvaW1nL2F6dXJlLnN2ZycsIHVybDogJ2h0dHBzOi8vYXp1cmUubWljcm9zb2Z0LmNvbS9lbi11cy9zZXJ2aWNlcy9zZWFyY2gvJ30sXHJcbiAgICAgICAgJ2JhaWR1Jzoge2xvZ286ICcvaW1nL2JhaWR1LnN2ZycsIHVybDogJ2h0dHA6Ly96bi5iYWlkdS5jb20vY3NlL2hvbWUvaW5kZXgnfVxyXG4gICAgICB9XHJcbiAgICB9LCBvcHRpb25zKTtcclxuXHJcbiAgICBzZWxmLmRvbSA9IHt9O1xyXG4gICAgc2VsZi5wZXJjZW50TG9hZGVkID0gMDtcclxuICAgIHNlbGYub3BlbiA9IGZhbHNlO1xyXG4gICAgc2VsZi5xdWVyeVRleHQgPSBcIlwiO1xyXG4gICAgc2VsZi5uYXYgPSB7XHJcbiAgICAgIG5leHQ6IC0xLFxyXG4gICAgICBwcmV2OiAtMSxcclxuICAgICAgdG90YWw6IDAsXHJcbiAgICAgIGN1cnJlbnQ6IDFcclxuICAgIH07XHJcblxyXG4gICAgc2VsZi5wYXJzZVNlbGVjdG9ycyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc2VsZi5jb25maWcuc2VsZWN0b3JzKSB7XHJcbiAgICAgICAgc2VsZi5kb21ba2V5XSA9ICQoc2VsZi5jb25maWcuc2VsZWN0b3JzW2tleV0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYuYmVmb3JlUXVlcnkgPSBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKCFzZWxmLm9wZW4pIHtcclxuICAgICAgICBzZWxmLmRvbS5jb250YWluZXIuZmFkZUluKCk7XHJcbiAgICAgICAgc2VsZi5kb20uYm9keS5hZGRDbGFzcygnbW9kYWwtYWN0aXZlJyk7XHJcbiAgICAgIH1cclxuICAgICAgc2VsZi5kb20uaW5wdXQuZWFjaChmdW5jdGlvbihpbmRleCxlbGVtKSB7XHJcbiAgICAgICAgJChlbGVtKS52YWwoc2VsZi5xdWVyeVRleHQpO1xyXG4gICAgICB9KTtcclxuICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XHJcbiAgICAgIHNlbGYuZG9tLm1vZGFsX2Vycm9yLmhpZGUoKTtcclxuICAgICAgc2VsZi5kb20ubW9kYWxfYWpheF9jb250ZW50LnJlbW92ZUNsYXNzKCdsb2FkZWQnKTtcclxuICAgICAgc2VsZi5zdGFydExvYWRpbmcoKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHNlbGYuYWZ0ZXJRdWVyeSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBzZWxmLmRvbS5tb2RhbF9ib2R5LnNjcm9sbFRvcCgwKTtcclxuICAgICAgc2VsZi5kb20ubW9kYWxfYWpheF9jb250ZW50LmFkZENsYXNzKCdsb2FkZWQnKTtcclxuICAgICAgc2VsZi5zdG9wTG9hZGluZygpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gYSBjb21wbGV0ZSBzZXJhY2ggb3BlcmF0aW9uIGluY2x1ZGluZyBVSSB1cGRhdGVzIGFuZCBxdWVyeVxyXG4gICAgICogQHBhcmFtIHN0YXJ0SW5kZXgge2ludH0gc3RhcnQgaW5kZXggb3IgcGFnZSBudW1iZXJcclxuICAgICAqL1xyXG4gICAgc2VsZi5zZWFyY2ggPSBmdW5jdGlvbihzdGFydEluZGV4LCBjYWxsYmFjaykge1xyXG4gICAgICBzZWxmLmJlZm9yZVF1ZXJ5KCk7XHJcbiAgICAgIGlmIChzZWxmLnNlYXJjaCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgc2VsZi5xdWVyeShzZWxmLnF1ZXJ5VGV4dCwgc3RhcnRJbmRleCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZWxmLmFmdGVyUXVlcnkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInF1ZXJ5KCkgZG9lcyBub3QgZXhpc3QuXCIpO1xyXG4gICAgICAgIHNlbGYub25RdWVyeUVycm9yKHNlbGYucXVlcnlUZXh0LCAnJyk7XHJcbiAgICAgICAgc2VsZi5hZnRlclF1ZXJ5KCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBRdWVyeSBlcnJvciBoYW5kbGVyXHJcbiAgICAgKiBAcGFyYW0gcXVlcnlUZXh0OiAoc3RyaW5nKVxyXG4gICAgICogQHBhcmFtIHN0YXR1czogKHN0cmluZylcclxuICAgICAqL1xyXG4gICAgc2VsZi5vblF1ZXJ5RXJyb3IgPSBmdW5jdGlvbihxdWVyeVRleHQsIHN0YXR1cykge1xyXG4gICAgICB2YXIgZXJyTXNnID0gXCJcIjtcclxuICAgICAgaWYgKHN0YXR1cyA9PT0gXCJzdWNjZXNzXCIpIGVyck1zZyA9IFwiTm8gcmVzdWx0IGZvdW5kIGZvciBcXFwiXCIgK3F1ZXJ5VGV4dCsgXCJcXFwiLlwiO1xyXG4gICAgICBlbHNlIGlmIChzdGF0dXMgPT09IFwidGltZW91dFwiKSBlcnJNc2cgPSBcIlVuZm9ydHVuYXRlIHRpbWVvdXQuXCI7XHJcbiAgICAgIGVsc2UgZXJyTXNnID0gXCJNeXN0ZXJpb3VzIGZhaWx1cmUuXCI7XHJcbiAgICAgIHNlbGYuZG9tLm1vZGFsX3Jlc3VsdHMuaHRtbChcIlwiKTtcclxuICAgICAgc2VsZi5kb20ubW9kYWxfZXJyb3IuaHRtbChlcnJNc2cpO1xyXG4gICAgICBzZWxmLmRvbS5tb2RhbF9lcnJvci5zaG93KCk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBzZWxmLm5leHRQYWdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmIChzZWxmLm5hdi5uZXh0ICE9PSAtMSkge1xyXG4gICAgICAgIHNlbGYuc2VhcmNoKHNlbGYubmF2Lm5leHQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBzZWxmLnByZXZQYWdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmIChzZWxmLm5hdi5wcmV2ICE9PSAtMSkge1xyXG4gICAgICAgIHNlbGYuc2VhcmNoKHNlbGYubmF2LnByZXYpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIGh0bWwgZm9yIG9uZSByZXN1bHRcclxuICAgICAqIEBwYXJhbSB1cmwgOiAoc3RyaW5nKSB1cmxcclxuICAgICAqIEBwYXJhbSB0aXRsZSA6IChzdHJpbmcpIHRpdGxlXHJcbiAgICAgKiBAcGFyYW0gZGlnZXN0IDogKHN0cmluZykgZGlnZXN0XHJcbiAgICAgKi9cclxuICAgIHNlbGYuYnVpbGRSZXN1bHQgPSBmdW5jdGlvbih1cmwsIHRpdGxlLCBkaWdlc3QpIHtcclxuICAgICAgdmFyIGh0bWwgPSBcIlwiO1xyXG4gICAgICBodG1sID0gXCI8bGk+XCI7XHJcbiAgICAgIGh0bWwgKz0gICBcIjxhIGNsYXNzPSdyZXN1bHQnIGhyZWY9J1wiICt1cmwrIFwiJz5cIjtcclxuICAgICAgaHRtbCArPSAgICAgXCI8c3BhbiBjbGFzcz0ndGl0bGUnPlwiICt0aXRsZSsgXCI8L3NwYW4+XCI7XHJcbiAgICAgIGh0bWwgKz0gICAgIFwiPHNwYW4gY2xhc3M9J2RpZ2VzdCc+XCIgK2RpZ2VzdCsgXCI8L3NwYW4+XCI7XHJcbiAgICAgIGh0bWwgKz0gICAgIFwiPHNwYW4gY2xhc3M9J2ljb24gaWNvbi1jaGV2cm9uLXRoaW4tcmlnaHQnPjwvc3Bhbj5cIjtcclxuICAgICAgaHRtbCArPSAgIFwiPC9hPlwiO1xyXG4gICAgICBodG1sICs9IFwiPC9saT5cIjtcclxuICAgICAgcmV0dXJuIGh0bWw7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIENsb3NlIHRoZSBtb2RhbCwgcmVzdW1lIGJvZHkgc2Nyb2xsaW5nXHJcbiAgICAgKiBubyBwYXJhbVxyXG4gICAgICovXHJcbiAgICBzZWxmLmNsb3NlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNlbGYub3BlbiA9IGZhbHNlO1xyXG4gICAgICBzZWxmLmRvbS5jb250YWluZXIuZmFkZU91dCgpO1xyXG4gICAgICBzZWxmLmRvbS5ib2R5LnJlbW92ZUNsYXNzKCdtb2RhbC1hY3RpdmUnKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogU2VhcmNoZm9ybSBzdWJtaXQgZXZlbnQgaGFuZGxlclxyXG4gICAgICogQHBhcmFtIHF1ZXJ5VGV4dCA6IChzdHJpbmcpIHRoZSBxdWVyeSB0ZXh0XHJcbiAgICAgKi9cclxuICAgIHNlbGYub25TdWJtaXQgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBzZWxmLnF1ZXJ5VGV4dCA9ICQodGhpcykuY2hpbGRyZW4oJy51LXNlYXJjaC1pbnB1dCcpLnZhbCgpO1xyXG4gICAgICBzZWxmLnNlYXJjaCgxKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogU3RhcnQgbG9hZGluZyBiYXIgYW5pbWF0aW9uXHJcbiAgICAgKiBubyBwYXJhbVxyXG4gICAgICovXHJcbiAgICBzZWxmLnN0YXJ0TG9hZGluZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBzZWxmLmRvbS5tb2RhbF9sb2FkaW5nX2Jhci5zaG93KCk7XHJcbiAgICAgIHNlbGYubG9hZGluZ1RpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7IFxyXG4gICAgICAgIHNlbGYucGVyY2VudExvYWRlZCA9IE1hdGgubWluKHNlbGYucGVyY2VudExvYWRlZCs1LDk1KTtcclxuICAgICAgICBzZWxmLmRvbS5tb2RhbF9sb2FkaW5nX2Jhci5jc3MoJ3dpZHRoJywgc2VsZi5wZXJjZW50TG9hZGVkKyclJyk7XHJcbiAgICAgIH0sIDEwMCk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFN0b3AgbG9hZGluZyBiYXIgYW5pbWF0aW9uXHJcbiAgICAgKiBubyBwYXJhbVxyXG4gICAgICovXHJcbiAgICBzZWxmLnN0b3BMb2FkaW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwoc2VsZi5sb2FkaW5nVGltZXIpO1xyXG4gICAgICBzZWxmLmRvbS5tb2RhbF9sb2FkaW5nX2Jhci5jc3MoJ3dpZHRoJywgJzEwMCUnKTtcclxuICAgICAgc2VsZi5kb20ubW9kYWxfbG9hZGluZ19iYXIuZmFkZU91dCgpO1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYucGVyY2VudExvYWRlZCA9IDA7XHJcbiAgICAgICAgc2VsZi5kb20ubW9kYWxfbG9hZGluZ19iYXIuY3NzKCd3aWR0aCcsICcwJScpO1xyXG4gICAgICB9LCAzMDApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBzZXJ2aWNlIGJyYW5kaW5nXHJcbiAgICAgKiBAcGFyYW0gc2VydmljZSB7U3RyaW5nfSBzZXJ2aWNlIG5hbWVcclxuICAgICAqL1xyXG4gICAgc2VsZi5hZGRMb2dvID0gZnVuY3Rpb24oc2VydmljZSkge1xyXG4gICAgICB2YXIgaHRtbCA9IFwiXCI7XHJcbiAgICAgIGlmIChzZWxmLmNvbmZpZy5icmFuZHNbc2VydmljZV0gJiYgc2VsZi5jb25maWcuYnJhbmRzW3NlcnZpY2VdLmxvZ28pIHtcclxuICAgICAgICBodG1sICs9IFwiPGEgaHJlZj0nXCIgK3NlbGYuY29uZmlnLmJyYW5kc1tzZXJ2aWNlXS51cmwrIFwiJz5cIjtcclxuICAgICAgICBodG1sICs9ICAgICc8aW1nIHNyYz1cIicgK3NlbGYuY29uZmlnLmJyYW5kc1tzZXJ2aWNlXS5sb2dvKyAnXCIgLz4nO1xyXG4gICAgICAgIGh0bWwgKz0gXCI8L2E+XCI7XHJcbiAgICAgICAgc2VsZi5kb20ubW9kYWxfbG9nby5odG1sKGh0bWwpO1xyXG4gICAgICAgIHNlbGYuZG9tLm1vZGFsX2xvZ28uYWRkQ2xhc3Moc2VydmljZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogTG9hZCB0ZW1wbGF0ZSBhbmQgcmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnNcclxuICAgICAqIG5vIHBhcmFtXHJcbiAgICAgKi9cclxuICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAkKCdib2R5JykucHJlcGVuZCh0ZW1wbGF0ZSk7XHJcbiAgICAgIHNlbGYucGFyc2VTZWxlY3RvcnMoKTtcclxuICAgICAgc2VsZi5kb20uZm9ybS5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW0pIHtcclxuICAgICAgICAkKGVsZW0pLm9uKCdzdWJtaXQnLCBzZWxmLm9uU3VibWl0KTtcclxuICAgICAgfSk7XHJcbiAgICAgIHNlbGYuZG9tLm1vZGFsX292ZXJsYXkub24oJ2NsaWNrJywgc2VsZi5jbG9zZSk7XHJcbiAgICAgIHNlbGYuZG9tLmJ0bl9jbG9zZS5vbignY2xpY2snLCBzZWxmLmNsb3NlKTtcclxuICAgICAgc2VsZi5kb20uYnRuX25leHQub24oJ2NsaWNrJywgc2VsZi5uZXh0UGFnZSk7XHJcbiAgICAgIHNlbGYuZG9tLmJ0bl9wcmV2Lm9uKCdjbGljaycsIHNlbGYucHJldlBhZ2UpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZWxmLmluaXQoKTtcclxuICB9O1xyXG5cclxuICB2YXIgdGVtcGxhdGUgPSAnPGRpdiBpZD1cInUtc2VhcmNoXCI+PGRpdiBjbGFzcz1cIm1vZGFsXCI+IDxoZWFkZXIgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIiBjbGFzcz1cImNsZWFyZml4XCI+PGZvcm0gaWQ9XCJ1LXNlYXJjaC1tb2RhbC1mb3JtXCIgY2xhc3M9XCJ1LXNlYXJjaC1mb3JtXCIgbmFtZT1cInVTZWFyY2hNb2RhbEZvcm1cIj4gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJ1LXNlYXJjaC1tb2RhbC1pbnB1dFwiIGNsYXNzPVwidS1zZWFyY2gtaW5wdXRcIiAvPiA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBpZD1cInUtc2VhcmNoLW1vZGFsLWJ0bi1zdWJtaXRcIiBjbGFzcz1cInUtc2VhcmNoLWJ0bi1zdWJtaXRcIj4gPHNwYW4gY2xhc3M9XCJpY29uIGljb24tc2VhcmNoXCI+PC9zcGFuPiA8L2J1dHRvbj48L2Zvcm0+IDxhIGNsYXNzPVwiYnRuLWNsb3NlXCI+IDxzcGFuIGNsYXNzPVwiaWNvbiBpY29uLWNsb3NlXCI+PC9zcGFuPiA8L2E+PGRpdiBjbGFzcz1cIm1vZGFsLWxvYWRpbmdcIj48ZGl2IGNsYXNzPVwibW9kYWwtbG9hZGluZy1iYXJcIj48L2Rpdj48L2Rpdj4gPC9oZWFkZXI+IDxtYWluIGNsYXNzPVwibW9kYWwtYm9keVwiPjx1bCBjbGFzcz1cIm1vZGFsLXJlc3VsdHMgbW9kYWwtYWpheC1jb250ZW50XCI+PC91bD4gPC9tYWluPiA8Zm9vdGVyIGNsYXNzPVwibW9kYWwtZm9vdGVyIGNsZWFyZml4XCI+PGRpdiBjbGFzcz1cIm1vZGFsLW1ldGFkYXRhIG1vZGFsLWFqYXgtY29udGVudFwiPiA8c3Ryb25nIGNsYXNzPVwicmFuZ2VcIj48L3N0cm9uZz4gb2YgPHN0cm9uZyBjbGFzcz1cInRvdGFsXCI+PC9zdHJvbmc+PC9kaXY+PGRpdiBjbGFzcz1cIm1vZGFsLWVycm9yXCI+PC9kaXY+IDxkaXYgY2xhc3M9XCJsb2dvXCI+PC9kaXY+IDxhIGNsYXNzPVwibmF2IGJ0bi1uZXh0IG1vZGFsLWFqYXgtY29udGVudFwiPiA8c3BhbiBjbGFzcz1cInRleHRcIj5ORVhUPC9zcGFuPiA8c3BhbiBjbGFzcz1cImljb24gaWNvbi1jaGV2cm9uLXJpZ2h0XCI+PC9zcGFuPiA8L2E+IDxhIGNsYXNzPVwibmF2IGJ0bi1wcmV2IG1vZGFsLWFqYXgtY29udGVudFwiPiA8c3BhbiBjbGFzcz1cImljb24gaWNvbi1jaGV2cm9uLWxlZnRcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVwidGV4dFwiPlBSRVY8L3NwYW4+IDwvYT4gPC9mb290ZXI+PC9kaXY+PGRpdiBjbGFzcz1cIm1vZGFsLW92ZXJsYXlcIj48L2Rpdj48L2Rpdj4nO1xyXG59KShqUXVlcnkpO1xyXG4iLCJ2YXIgQWxnb2xpYVNlYXJjaDtcclxuXHJcbihmdW5jdGlvbigkKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAvKipcclxuICAgKiBTZWFyY2ggYnkgQWxnb2xpYSBTZWFyY2hcclxuICAgKiBAcGFyYW0gb3B0aW9ucyA6IChvYmplY3QpXHJcbiAgICovXHJcbiAgQWxnb2xpYVNlYXJjaCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgIFNlYXJjaFNlcnZpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBlbmRwb2ludCA9IFwiaHR0cHM6Ly9cIiArc2VsZi5jb25maWcuYXBwSWQrIFwiLWRzbi5hbGdvbGlhLm5ldC8xL2luZGV4ZXMvXCIgK3NlbGYuY29uZmlnLmluZGV4TmFtZTtcclxuICAgIHNlbGYuYWRkTG9nbygnYWxnb2xpYScpO1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIHJlc3VsdCBsaXN0IGh0bWxcclxuICAgICAqIEBwYXJhbSBkYXRhIDogKGFycmF5KSByZXN1bHQgaXRlbXNcclxuICAgICAqL1xyXG4gICAgc2VsZi5idWlsZFJlc3VsdExpc3QgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgIHZhciBodG1sID0gXCJcIjtcclxuICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uKGluZGV4LCByb3cpIHtcclxuICAgICAgICB2YXIgdXJsID0gcm93LnBlcm1hbGluayB8fCByb3cucGF0aCB8fCBcIlwiO1xyXG4gICAgICAgIGlmICghcm93LnBlcm1hbGluayAmJiByb3cucGF0aCkge1xyXG4gICAgICAgICAgdXJsID0gXCIvXCIgKyB1cmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0aXRsZSA9IHJvdy50aXRsZTtcclxuICAgICAgICB2YXIgZGlnZXN0ID0gcm93Ll9oaWdobGlnaHRSZXN1bHQuZXhjZXJwdFN0cmlwLnZhbHVlIHx8IFwiXCI7XHJcbiAgICAgICAgaHRtbCArPSBzZWxmLmJ1aWxkUmVzdWx0KHVybCwgdGl0bGUsIGRpZ2VzdCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gaHRtbDtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgbWV0YWRhdGEgYWZ0ZXIgYSBzdWNjZXNzZnVsIHF1ZXJ5XHJcbiAgICAgKiBAcGFyYW0gZGF0YSA6IChvYmplY3QpIHRoZSByYXcgc2VhcmNoIHJlc3BvbnNlIGRhdGFcclxuICAgICAqL1xyXG4gICAgc2VsZi5idWlsZE1ldGFkYXRhID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICBzZWxmLm5hdi5jdXJyZW50ID0gZGF0YS5wYWdlICogZGF0YS5oaXRzUGVyUGFnZSArIDE7XHJcbiAgICAgIHNlbGYubmF2LmN1cnJlbnRDb3VudCA9IGRhdGEuaGl0cy5sZW5ndGg7XHJcbiAgICAgIHNlbGYubmF2LnRvdGFsID0gcGFyc2VJbnQoZGF0YS5uYkhpdHMpO1xyXG4gICAgICBzZWxmLmRvbS5tb2RhbF9tZXRhZGF0YS5jaGlsZHJlbignLnRvdGFsJykuaHRtbChzZWxmLm5hdi50b3RhbCk7XHJcbiAgICAgIHNlbGYuZG9tLm1vZGFsX21ldGFkYXRhLmNoaWxkcmVuKCcucmFuZ2UnKS5odG1sKHNlbGYubmF2LmN1cnJlbnQgKyBcIi1cIiArIChzZWxmLm5hdi5jdXJyZW50K3NlbGYubmF2LmN1cnJlbnRDb3VudC0xKSk7XHJcbiAgICAgIGlmIChzZWxmLm5hdi50b3RhbCA+IDApIHtcclxuICAgICAgICBzZWxmLmRvbS5tb2RhbF9tZXRhZGF0YS5zaG93KCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgc2VsZi5kb20ubW9kYWxfbWV0YWRhdGEuaGlkZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZGF0YS5wYWdlIDwgZGF0YS5uYlBhZ2VzLTEpIHtcclxuICAgICAgICBzZWxmLm5hdi5uZXh0ID0gKGRhdGEucGFnZSsxKSsxO1xyXG4gICAgICAgIHNlbGYuZG9tLmJ0bl9uZXh0LnNob3coKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBzZWxmLm5hdi5uZXh0ID0gLTE7XHJcbiAgICAgICAgc2VsZi5kb20uYnRuX25leHQuaGlkZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChkYXRhLnBhZ2UgPiAwKSB7XHJcbiAgICAgICAgc2VsZi5uYXYucHJldiA9IChkYXRhLnBhZ2UrMSktMTtcclxuICAgICAgICBzZWxmLmRvbS5idG5fcHJldi5zaG93KCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgc2VsZi5uYXYucHJldiA9IC0xO1xyXG4gICAgICAgIHNlbGYuZG9tLmJ0bl9wcmV2LmhpZGUoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBTZW5kIGEgR0VUIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBxdWVyeVRleHQgOiAoc3RyaW5nKSB0aGUgcXVlcnkgdGV4dFxyXG4gICAgICogQHBhcmFtIHBhZ2UgOiAoaW50KSB0aGUgY3VycmVudCBwYWdlIChzdGFydCBmcm9tIDEpXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgOiAoZnVuY3Rpb24pXHJcbiAgICAgKi9cclxuICAgIHNlbGYucXVlcnkgPSBmdW5jdGlvbihxdWVyeVRleHQsIHBhZ2UsIGNhbGxiYWNrKSB7XHJcbiAgICAgICQuZ2V0KGVuZHBvaW50LCB7XHJcbiAgICAgICAgcXVlcnk6IHF1ZXJ5VGV4dCxcclxuICAgICAgICBwYWdlOiBwYWdlLTEsXHJcbiAgICAgICAgaGl0c1BlclBhZ2U6IHNlbGYuY29uZmlnLnBlcl9wYWdlLFxyXG4gICAgICAgIFwieC1hbGdvbGlhLWFwcGxpY2F0aW9uLWlkXCI6IHNlbGYuY29uZmlnLmFwcElkLFxyXG4gICAgICAgIFwieC1hbGdvbGlhLWFwaS1rZXlcIjogc2VsZi5jb25maWcuYXBpS2V5XHJcbiAgICAgIH0sIGZ1bmN0aW9uKGRhdGEsIHN0YXR1cykge1xyXG4gICAgICAgIGlmIChzdGF0dXMgPT09ICdzdWNjZXNzJyAmJiBkYXRhLmhpdHMgJiYgZGF0YS5oaXRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIHZhciByZXN1bHRzID0gc2VsZi5idWlsZFJlc3VsdExpc3QoZGF0YS5oaXRzKTsgXHJcbiAgICAgICAgICBzZWxmLmRvbS5tb2RhbF9yZXN1bHRzLmh0bWwocmVzdWx0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi5vblF1ZXJ5RXJyb3IocXVlcnlUZXh0LCBzdGF0dXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmJ1aWxkTWV0YWRhdGEoZGF0YSk7XHJcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gIH07XHJcblxyXG59KShqUXVlcnkpOyIsInZhciBBenVyZVNlYXJjaDtcclxuXHJcbihmdW5jdGlvbigkKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAvKipcclxuICAgKiBTZWFyY2ggYnkgQXp1cmUgU2VhcmNoIEFQSVxyXG4gICAqIEBwYXJhbSBvcHRpb25zIDogKG9iamVjdClcclxuICAgKi9cclxuICBBenVyZVNlYXJjaCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgIFNlYXJjaFNlcnZpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBlbmRwb2ludCA9IFwiaHR0cHM6Ly9cIiArc2VsZi5jb25maWcuc2VydmljZU5hbWUrIFwiLnNlYXJjaC53aW5kb3dzLm5ldC9pbmRleGVzL1wiICtzZWxmLmNvbmZpZy5pbmRleE5hbWUrIFwiL2RvY3M/YXBpLXZlcnNpb249MjAxNS0wMi0yOFwiO1xyXG4gICAgc2VsZi5uYXYuY3VycmVudCA9IDE7XHJcbiAgICBzZWxmLmFkZExvZ28oJ2F6dXJlJyk7XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgcmVzdWx0IGxpc3QgaHRtbFxyXG4gICAgICogQHBhcmFtIGRhdGEgOiAoYXJyYXkpIHJlc3VsdCBpdGVtc1xyXG4gICAgICovXHJcbiAgICBzZWxmLmJ1aWxkUmVzdWx0TGlzdCA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgdmFyIGh0bWwgPSBcIlwiO1xyXG4gICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24oaW5kZXgsIHJvdykge1xyXG4gICAgICAgIHZhciB1cmwgPSByb3cucGVybWFsaW5rIHx8IHJvdy5wYXRoIHx8IFwiXCI7XHJcbiAgICAgICAgaWYgKCFyb3cucGVybWFsaW5rICYmIHJvdy5wYXRoKSB7XHJcbiAgICAgICAgICB1cmwgPSBcIi9cIiArIHVybDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHRpdGxlID0gcm93LnRpdGxlO1xyXG4gICAgICAgIHZhciBkaWdlc3QgPSByb3cuZXhjZXJwdFN0cmlwIHx8IFwiXCI7XHJcbiAgICAgICAgaHRtbCArPSBzZWxmLmJ1aWxkUmVzdWx0KHVybCwgdGl0bGUsIGRpZ2VzdCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gaHRtbDtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgbWV0YWRhdGEgYWZ0ZXIgYSBzdWNjZXNzZnVsIHF1ZXJ5XHJcbiAgICAgKiBAcGFyYW0gZGF0YSA6IChvYmplY3QpIHRoZSByYXcgcmVzcG9uc2UgZGF0YVxyXG4gICAgICogQHBhcmFtIHN0YXJ0SW5kZXggOiAoaW50KSByZXF1ZXN0ZWQgc3RhcnQgaW5kZXggb2YgY3VycmVudCBxdWVyeVxyXG4gICAgICovXHJcbiAgICBzZWxmLmJ1aWxkTWV0YWRhdGEgPSBmdW5jdGlvbihkYXRhLCBzdGFydEluZGV4KSB7XHJcbiAgICAgIHNlbGYubmF2LmN1cnJlbnQgPSBzdGFydEluZGV4O1xyXG4gICAgICBzZWxmLm5hdi5jdXJyZW50Q291bnQgPSBkYXRhLnZhbHVlLmxlbmd0aDtcclxuICAgICAgc2VsZi5uYXYudG90YWwgPSBwYXJzZUludChkYXRhWydAb2RhdGEuY291bnQnXSk7XHJcbiAgICAgIHNlbGYuZG9tLm1vZGFsX21ldGFkYXRhLmNoaWxkcmVuKCcudG90YWwnKS5odG1sKHNlbGYubmF2LnRvdGFsKTtcclxuICAgICAgc2VsZi5kb20ubW9kYWxfbWV0YWRhdGEuY2hpbGRyZW4oJy5yYW5nZScpLmh0bWwoc2VsZi5uYXYuY3VycmVudCArIFwiLVwiICsgKHNlbGYubmF2LmN1cnJlbnQrc2VsZi5uYXYuY3VycmVudENvdW50LTEpKTtcclxuICAgICAgaWYgKHNlbGYubmF2LnRvdGFsID4gMCkge1xyXG4gICAgICAgIHNlbGYuZG9tLm1vZGFsX21ldGFkYXRhLnNob3coKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBzZWxmLmRvbS5tb2RhbF9tZXRhZGF0YS5oaWRlKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzZWxmLm5hdi5jdXJyZW50K3NlbGYubmF2LmN1cnJlbnRDb3VudCA8PSBzZWxmLm5hdi50b3RhbCkge1xyXG4gICAgICAgIHNlbGYubmF2Lm5leHQgPSBzZWxmLm5hdi5jdXJyZW50K3NlbGYubmF2LmN1cnJlbnRDb3VudDtcclxuICAgICAgICBzZWxmLmRvbS5idG5fbmV4dC5zaG93KCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgc2VsZi5uYXYubmV4dCA9IC0xO1xyXG4gICAgICAgIHNlbGYuZG9tLmJ0bl9uZXh0LmhpZGUoKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoc2VsZi5uYXYuY3VycmVudCA+IDEpIHtcclxuICAgICAgICBzZWxmLm5hdi5wcmV2ID0gc2VsZi5uYXYuY3VycmVudC1zZWxmLmNvbmZpZy5wZXJfcGFnZTtcclxuICAgICAgICBzZWxmLmRvbS5idG5fcHJldi5zaG93KCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgc2VsZi5uYXYucHJldiA9IC0xO1xyXG4gICAgICAgIHNlbGYuZG9tLmJ0bl9wcmV2LmhpZGUoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBTZW5kIGEgR0VUIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBxdWVyeVRleHQgOiAoc3RyaW5nKSB0aGUgcXVlcnkgdGV4dFxyXG4gICAgICogQHBhcmFtIHBhZ2UgOiAoaW50KSB0aGUgY3VycmVudCBwYWdlIChzdGFydCBmcm9tIDEpXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgOiAoZnVuY3Rpb24pXHJcbiAgICAgKi9cclxuICAgIHNlbGYucXVlcnkgPSBmdW5jdGlvbihxdWVyeVRleHQsIHN0YXJ0SW5kZXgsIGNhbGxiYWNrKSB7XHJcbiAgICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiBlbmRwb2ludCxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBcIkFjY2VwdFwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgIFwiYXBpLWtleVwiOiBzZWxmLmNvbmZpZy5xdWVyeUtleVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgc2VhcmNoOiBxdWVyeVRleHQsXHJcbiAgICAgICAgICAkc2tpcDogc3RhcnRJbmRleC0xLFxyXG4gICAgICAgICAgJHRvcDogc2VsZi5jb25maWcucGVyX3BhZ2UsXHJcbiAgICAgICAgICAkY291bnQ6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgc3RhdHVzKSB7XHJcbiAgICAgICAgICBpZiAoc3RhdHVzID09PSAnc3VjY2VzcycgJiYgZGF0YS52YWx1ZSAmJiBkYXRhLnZhbHVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBzZWxmLmJ1aWxkUmVzdWx0TGlzdChkYXRhLnZhbHVlKTtcclxuICAgICAgICAgICAgc2VsZi5kb20ubW9kYWxfcmVzdWx0cy5odG1sKHJlc3VsdHMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYub25RdWVyeUVycm9yKHF1ZXJ5VGV4dCwgc3RhdHVzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNlbGYuYnVpbGRNZXRhZGF0YShkYXRhLCBzdGFydEluZGV4KTtcclxuICAgICAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgfTtcclxuXHJcbn0pKGpRdWVyeSk7IiwidmFyIEJhaWR1U2VhcmNoO1xyXG5cclxuKGZ1bmN0aW9uKCQpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRPRE9cclxuICAgKiBTZWFyY2ggYnkgQmFpZHUgU2VhcmNoIEFQSVxyXG4gICAqIEBwYXJhbSBvcHRpb25zIDogKG9iamVjdClcclxuICAgKi9cclxuICBCYWlkdVNlYXJjaCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgIFNlYXJjaFNlcnZpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBlbmRwb2ludCA9IFwiXCI7XHJcbiAgICBzZWxmLmFkZExvZ28oJ2JhaWR1Jyk7XHJcblxyXG4gICAgc2VsZi5sb2FkU2NyaXB0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzY3JpcHQgPSBcIjxzY3JpcHQgc3JjPSdodHRwOi8vemhhbm5laS5iYWlkdS5jb20vYXBpL2N1c3RvbXNlYXJjaC9hcGlhY2NlcHQ/c2lkPVwiICtzZWxmLmNvbmZpZy5hcGlJZCsgXCImdj0yLjAmY2FsbGJhY2s9Y3VzdG9tU2VhcmNoLmluaXRCYWlkdScgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBjaGFyc2V0PSd1dGYtOCc+PC9zY3JpcHQ+XCI7XHJcbiAgICAgIHNlbGYuZG9tLmJvZHkuYXBwZW5kKHNjcmlwdCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYuaW5pdEJhaWR1ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNlbGYuY3NlID0gbmV3IEJDc2UuU2VhcmNoKHNlbGYuY29uZmlnLmFwaUlkKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgc2VhcmNoIHJlc3VsdHNcclxuICAgICAqIEBwYXJhbSBxdWVyeVRleHQge1N0cmluZ31cclxuICAgICAqIEBwYXJhbSBwYWdlIHtJbnRlZ2VyfVxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIHtGdW5jdGlvbn1cclxuICAgICAqL1xyXG4gICAgc2VsZi5xdWVyeSA9IGZ1bmN0aW9uKHF1ZXJ5VGV4dCwgcGFnZSwgY2FsbGJhY2spIHtcclxuICAgICAgc2VsZi5jc2Uuc2V0UGFnZU51bShzZWxmLmNvbmZpZy5wZXJfcGFnZSk7XHJcbiAgICAgIHNlbGYuY3NlLmdldFJlc3VsdChxdWVyeVRleHQsIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICBpZiAoY2FsbGJhY2sgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xyXG4gICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIHBhZ2UpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZWxmLmxvYWRTY3JpcHQoKTtcclxuICAgIFxyXG4gIH07XHJcblxyXG59KShqUXVlcnkpOyIsInZhciBHb29nbGVDdXN0b21TZWFyY2ggPSBcIlwiO1xyXG5cclxuKGZ1bmN0aW9uKCQpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogU2VhcmNoIGJ5IEdvb2dsZSBDdXN0b20gU2VhcmNoIEVuZ2luZSBKU09OIEFQSVxyXG4gICAqIEBwYXJhbSBvcHRpb25zIDogKG9iamVjdClcclxuICAgKi9cclxuICBHb29nbGVDdXN0b21TZWFyY2ggPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICBTZWFyY2hTZXJ2aWNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgZW5kcG9pbnQgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2N1c3RvbXNlYXJjaC92MVwiO1xyXG4gICAgc2VsZi5hZGRMb2dvKCdnb29nbGUnKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIHJlc3VsdCBsaXN0IGh0bWxcclxuICAgICAqIEBwYXJhbSBkYXRhIDogKGFycmF5KSByZXN1bHQgaXRlbXNcclxuICAgICAqL1xyXG4gICAgc2VsZi5idWlsZFJlc3VsdExpc3QgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgIHZhciBodG1sID0gXCJcIjtcclxuICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uKGluZGV4LCByb3cpIHtcclxuICAgICAgICB2YXIgdXJsID0gcm93Lmxpbms7XHJcbiAgICAgICAgdmFyIHRpdGxlID0gcm93LnRpdGxlO1xyXG4gICAgICAgIHZhciBkaWdlc3QgPSAocm93Lmh0bWxTbmlwcGV0IHx8IFwiXCIpLnJlcGxhY2UoJzxicj4nLCcnKTtcclxuICAgICAgICBodG1sICs9IHNlbGYuYnVpbGRSZXN1bHQodXJsLCB0aXRsZSwgZGlnZXN0KTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBodG1sO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSBtZXRhZGF0YSBhZnRlciBhIHN1Y2Nlc3NmdWwgcXVlcnlcclxuICAgICAqIEBwYXJhbSBkYXRhIDogKG9iamVjdCkgdGhlIHJhdyBnb29nbGUgY3VzdG9tIHNlYXJjaCByZXNwb25zZSBkYXRhXHJcbiAgICAgKi9cclxuICAgIHNlbGYuYnVpbGRNZXRhZGF0YSA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgaWYgKGRhdGEucXVlcmllcyAmJiBkYXRhLnF1ZXJpZXMucmVxdWVzdCAmJiBkYXRhLnF1ZXJpZXMucmVxdWVzdFswXS50b3RhbFJlc3VsdHMgIT09ICcwJykge1xyXG4gICAgICAgIHNlbGYubmF2LmN1cnJlbnQgPSBkYXRhLnF1ZXJpZXMucmVxdWVzdFswXS5zdGFydEluZGV4O1xyXG4gICAgICAgIHNlbGYubmF2LmN1cnJlbnRDb3VudCA9IGRhdGEucXVlcmllcy5yZXF1ZXN0WzBdLmNvdW50O1xyXG4gICAgICAgIHNlbGYubmF2LnRvdGFsID0gcGFyc2VJbnQoZGF0YS5xdWVyaWVzLnJlcXVlc3RbMF0udG90YWxSZXN1bHRzKTtcclxuICAgICAgICBzZWxmLmRvbS5tb2RhbF9tZXRhZGF0YS5jaGlsZHJlbignLnRvdGFsJykuaHRtbChzZWxmLm5hdi50b3RhbCk7XHJcbiAgICAgICAgc2VsZi5kb20ubW9kYWxfbWV0YWRhdGEuY2hpbGRyZW4oJy5yYW5nZScpLmh0bWwoc2VsZi5uYXYuY3VycmVudCArIFwiLVwiICsgKHNlbGYubmF2LmN1cnJlbnQrc2VsZi5uYXYuY3VycmVudENvdW50LTEpKTtcclxuICAgICAgICBzZWxmLmRvbS5tb2RhbF9tZXRhZGF0YS5zaG93KCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgc2VsZi5kb20ubW9kYWxfbWV0YWRhdGEuaGlkZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChkYXRhLnF1ZXJpZXMgJiYgZGF0YS5xdWVyaWVzLm5leHRQYWdlKSB7XHJcbiAgICAgICAgc2VsZi5uYXYubmV4dCA9IGRhdGEucXVlcmllcy5uZXh0UGFnZVswXS5zdGFydEluZGV4O1xyXG4gICAgICAgIHNlbGYuZG9tLmJ0bl9uZXh0LnNob3coKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBzZWxmLm5hdi5uZXh0ID0gLTE7XHJcbiAgICAgICAgc2VsZi5kb20uYnRuX25leHQuaGlkZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChkYXRhLnF1ZXJpZXMgJiYgZGF0YS5xdWVyaWVzLnByZXZpb3VzUGFnZSkge1xyXG4gICAgICAgIHNlbGYubmF2LnByZXYgPSBkYXRhLnF1ZXJpZXMucHJldmlvdXNQYWdlWzBdLnN0YXJ0SW5kZXg7XHJcbiAgICAgICAgc2VsZi5kb20uYnRuX3ByZXYuc2hvdygpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHNlbGYubmF2LnByZXYgPSAtMTtcclxuICAgICAgICBzZWxmLmRvbS5idG5fcHJldi5oaWRlKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogU2VuZCBhIEdFVCByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gcXVlcnlUZXh0IDogKHN0cmluZykgdGhlIHF1ZXJ5IHRleHRcclxuICAgICAqIEBwYXJhbSBzdGFydEluZGV4IDogKGludCkgdGhlIGluZGV4IG9mIGZpcnN0IGl0ZW0gKHN0YXJ0IGZyb20gMSlcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayA6IChmdW5jdGlvbilcclxuICAgICAqL1xyXG4gICAgc2VsZi5xdWVyeSA9IGZ1bmN0aW9uKHF1ZXJ5VGV4dCwgc3RhcnRJbmRleCwgY2FsbGJhY2spIHtcclxuICAgICAgJC5nZXQoZW5kcG9pbnQsIHtcclxuICAgICAgICBrZXk6IHNlbGYuY29uZmlnLmFwaUtleSxcclxuICAgICAgICBjeDogc2VsZi5jb25maWcuZW5naW5lSWQsXHJcbiAgICAgICAgcTogcXVlcnlUZXh0LFxyXG4gICAgICAgIHN0YXJ0OiBzdGFydEluZGV4LFxyXG4gICAgICAgIG51bTogc2VsZi5jb25maWcucGVyX3BhZ2VcclxuICAgICAgfSwgZnVuY3Rpb24oZGF0YSwgc3RhdHVzKSB7XHJcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmIGRhdGEuaXRlbXMgJiYgZGF0YS5pdGVtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICB2YXIgcmVzdWx0cyA9IHNlbGYuYnVpbGRSZXN1bHRMaXN0KGRhdGEuaXRlbXMpOyBcclxuICAgICAgICAgIHNlbGYuZG9tLm1vZGFsX3Jlc3VsdHMuaHRtbChyZXN1bHRzKTsgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi5vblF1ZXJ5RXJyb3IocXVlcnlUZXh0LCBzdGF0dXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmJ1aWxkTWV0YWRhdGEoZGF0YSk7XHJcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgfTtcclxufSkoalF1ZXJ5KTsiLCJ2YXIgSGV4b1NlYXJjaDtcclxuXHJcbihmdW5jdGlvbigkKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIFxyXG4gIC8qKlxyXG4gICogU2VhcmNoIGJ5IEhleG8gZ2VuZXJhdG9yIGpzb24gY29udGVudFxyXG4gICogQHBhcmFtIG9wdGlvbnMgOiAob2JqZWN0KVxyXG4gICovXHJcbiAgSGV4b1NlYXJjaCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgIFNlYXJjaFNlcnZpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBlbmRwb2ludCA9IFwiL2NvbnRlbnQuanNvblwiO1xyXG4gICAgc2VsZi5jYWNoZSA9IFwiXCI7XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogU2VhcmNoIHF1ZXJ5VGV4dCBpbiB0aXRsZSBhbmQgY29udGVudCBvZiBhIHBvc3RcclxuICAgICAqIENyZWRpdCB0bzogaHR0cDovL2hhaGFjay5jb20vY29kZXMvbG9jYWwtc2VhcmNoLWVuZ2luZS1mb3ItaGV4by9cclxuICAgICAqIEBwYXJhbSBwb3N0IDogdGhlIHBvc3Qgb2JqZWN0XHJcbiAgICAgKiBAcGFyYW0gcXVlcnlUZXh0IDogdGhlIHNlYXJjaCBxdWVyeVxyXG4gICAgICovXHJcbiAgICBzZWxmLmNvbnRlbnRTZWFyY2ggPSBmdW5jdGlvbihwb3N0LCBxdWVyeVRleHQpIHtcclxuICAgICAgdmFyIHBvc3RfdGl0bGUgPSBwb3N0LnRpdGxlLnRyaW0oKS50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICAgICAgcG9zdF9jb250ZW50ID0gcG9zdC50ZXh0LnRyaW0oKS50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICAgICAga2V5d29yZHMgPSBxdWVyeVRleHQudHJpbSgpLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIgXCIpLFxyXG4gICAgICAgICAgZm91bmRNYXRjaCA9IGZhbHNlLFxyXG4gICAgICAgICAgaW5kZXhfdGl0bGUgPSAtMSxcclxuICAgICAgICAgIGluZGV4X2NvbnRlbnQgPSAtMSxcclxuICAgICAgICAgIGZpcnN0X29jY3VyID0gLTE7XHJcbiAgICAgIGlmIChwb3N0X3RpdGxlICE9PSAnJyAmJiBwb3N0X2NvbnRlbnQgIT09ICcnKSB7XHJcbiAgICAgICAgJC5lYWNoKGtleXdvcmRzLCBmdW5jdGlvbihpbmRleCwgd29yZCkge1xyXG4gICAgICAgICAgaW5kZXhfdGl0bGUgPSBwb3N0X3RpdGxlLmluZGV4T2Yod29yZCk7XHJcbiAgICAgICAgICBpbmRleF9jb250ZW50ID0gcG9zdF9jb250ZW50LmluZGV4T2Yod29yZCk7XHJcbiAgICAgICAgICBpZiAoaW5kZXhfdGl0bGUgPCAwICYmIGluZGV4X2NvbnRlbnQgPCAwKSB7XHJcbiAgICAgICAgICAgIGZvdW5kTWF0Y2ggPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3VuZE1hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGluZGV4X2NvbnRlbnQgPCAwKSB7XHJcbiAgICAgICAgICAgICAgaW5kZXhfY29udGVudCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgZmlyc3Rfb2NjdXIgPSBpbmRleF9jb250ZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoZm91bmRNYXRjaCkge1xyXG4gICAgICAgICAgICBwb3N0X2NvbnRlbnQgPSBwb3N0LnRleHQudHJpbSgpO1xyXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSAwLCBlbmQgPSAwO1xyXG4gICAgICAgICAgICBpZiAoZmlyc3Rfb2NjdXIgPj0gMCkge1xyXG4gICAgICAgICAgICAgIHN0YXJ0ID0gTWF0aC5tYXgoZmlyc3Rfb2NjdXItMzAsIDApO1xyXG4gICAgICAgICAgICAgIGVuZCA9IChzdGFydCA9PT0gMCkgPyBNYXRoLm1pbigyMDAsIHBvc3RfY29udGVudC5sZW5ndGgpIDogTWF0aC5taW4oZmlyc3Rfb2NjdXIrMTcwLCBwb3N0X2NvbnRlbnQubGVuZ3RoKTtcclxuICAgICAgICAgICAgICB2YXIgbWF0Y2hfY29udGVudCA9IHBvc3RfY29udGVudC5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XHJcbiAgICAgICAgICAgICAga2V5d29yZHMuZm9yRWFjaChmdW5jdGlvbihrZXl3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVnUyA9IG5ldyBSZWdFeHAoa2V5d29yZCwgXCJnaVwiKTtcclxuICAgICAgICAgICAgICAgIG1hdGNoX2NvbnRlbnQgPSBtYXRjaF9jb250ZW50LnJlcGxhY2UocmVnUywgXCI8Yj5cIitrZXl3b3JkK1wiPC9iPlwiKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBwb3N0LmRpZ2VzdCA9IG1hdGNoX2NvbnRlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgZW5kID0gTWF0aC5taW4oMjAwLCBwb3N0X2NvbnRlbnQubGVuZ3RoKTtcclxuICAgICAgICAgICAgICBwb3N0LmRpZ2VzdCA9IHBvc3RfY29udGVudC50cmltKCkuc3Vic3RyaW5nKDAsIGVuZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZm91bmRNYXRjaDtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgcmVzdWx0IGxpc3QgaHRtbFxyXG4gICAgICogQHBhcmFtIGRhdGEgOiAoYXJyYXkpIHJlc3VsdCBpdGVtc1xyXG4gICAgICovXHJcbiAgICBzZWxmLmJ1aWxkUmVzdWx0TGlzdCA9IGZ1bmN0aW9uKGRhdGEsIHF1ZXJ5VGV4dCkge1xyXG4gICAgICB2YXIgcmVzdWx0cyA9IFtdLFxyXG4gICAgICAgICAgaHRtbCA9IFwiXCI7XHJcbiAgICAgICQuZWFjaChkYXRhLCBmdW5jdGlvbihpbmRleCwgcG9zdCkge1xyXG4gICAgICAgIGlmIChzZWxmLmNvbnRlbnRTZWFyY2gocG9zdCwgcXVlcnlUZXh0KSlcclxuICAgICAgICAgIGh0bWwgKz0gc2VsZi5idWlsZFJlc3VsdChwb3N0LnBlcm1hbGluaywgcG9zdC50aXRsZSwgcG9zdC5kaWdlc3QpO1xyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIGh0bWw7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIG1ldGFkYXRhIGFmdGVyIGEgc3VjY2Vzc2Z1bCBxdWVyeVxyXG4gICAgICogQHBhcmFtIGRhdGEgOiAob2JqZWN0KSB0aGUgcmF3IGdvb2dsZSBjdXN0b20gc2VhcmNoIHJlc3BvbnNlIGRhdGFcclxuICAgICAqL1xyXG4gICAgc2VsZi5idWlsZE1ldGFkYXRhID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICBzZWxmLmRvbS5tb2RhbF9mb290ZXIuaGlkZSgpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBTZW5kIGEgR0VUIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBxdWVyeVRleHQgOiAoc3RyaW5nKSB0aGUgcXVlcnkgdGV4dFxyXG4gICAgICogQHBhcmFtIHN0YXJ0SW5kZXggOiAoaW50KSB0aGUgaW5kZXggb2YgZmlyc3QgaXRlbSAoc3RhcnQgZnJvbSAxKVxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIDogKGZ1bmN0aW9uKVxyXG4gICAgICovXHJcbiAgICBzZWxmLnF1ZXJ5ID0gZnVuY3Rpb24ocXVlcnlUZXh0LCBzdGFydEluZGV4LCBjYWxsYmFjaykge1xyXG4gICAgICBpZiAoIXNlbGYuY2FjaGUpIHtcclxuICAgICAgICAkLmdldChlbmRwb2ludCwge1xyXG4gICAgICAgICAga2V5OiBzZWxmLmNvbmZpZy5hcGlLZXksXHJcbiAgICAgICAgICBjeDogc2VsZi5jb25maWcuZW5naW5lSWQsXHJcbiAgICAgICAgICBxOiBxdWVyeVRleHQsXHJcbiAgICAgICAgICBzdGFydDogc3RhcnRJbmRleCxcclxuICAgICAgICAgIG51bTogc2VsZi5jb25maWcucGVyX3BhZ2VcclxuICAgICAgICB9LCBmdW5jdGlvbihkYXRhLCBzdGF0dXMpIHtcclxuICAgICAgICAgIGlmIChzdGF0dXMgIT09ICdzdWNjZXNzJyB8fCBcclxuICAgICAgICAgICAgICAhZGF0YSB8fCBcclxuICAgICAgICAgICAgICAoIWRhdGEucG9zdHMgJiYgIWRhdGEucGFnZXMpIHx8IFxyXG4gICAgICAgICAgICAgIChkYXRhLnBvc3RzLmxlbmd0aCA8IDEgJiYgZGF0YS5wYWdlcy5sZW5ndGggPCAxKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgc2VsZi5vblF1ZXJ5RXJyb3IocXVlcnlUZXh0LCBzdGF0dXMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuY2FjaGUgPSBkYXRhO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IFwiXCI7IFxyXG4gICAgICAgICAgICByZXN1bHRzICs9IHNlbGYuYnVpbGRSZXN1bHRMaXN0KGRhdGEucGFnZXMsIHF1ZXJ5VGV4dCk7XHJcbiAgICAgICAgICAgIHJlc3VsdHMgKz0gc2VsZi5idWlsZFJlc3VsdExpc3QoZGF0YS5wb3N0cywgcXVlcnlUZXh0KTtcclxuICAgICAgICAgICAgc2VsZi5kb20ubW9kYWxfcmVzdWx0cy5odG1sKHJlc3VsdHMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgc2VsZi5idWlsZE1ldGFkYXRhKGRhdGEpO1xyXG4gICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciByZXN1bHRzID0gXCJcIjsgXHJcbiAgICAgICAgcmVzdWx0cyArPSBzZWxmLmJ1aWxkUmVzdWx0TGlzdChzZWxmLmNhY2hlLnBhZ2VzLCBxdWVyeVRleHQpO1xyXG4gICAgICAgIHJlc3VsdHMgKz0gc2VsZi5idWlsZFJlc3VsdExpc3Qoc2VsZi5jYWNoZS5wb3N0cywgcXVlcnlUZXh0KTtcclxuICAgICAgICBzZWxmLmRvbS5tb2RhbF9yZXN1bHRzLmh0bWwocmVzdWx0cyk7XHJcbiAgICAgICAgc2VsZi5idWlsZE1ldGFkYXRhKHNlbGYuY2FjaGUpO1xyXG4gICAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgY2FsbGJhY2soc2VsZi5jYWNoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgfTtcclxuXHJcbn0pKGpRdWVyeSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
